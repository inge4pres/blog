{
    "version": 3,
    "terraform_version": "0.7.0",
    "serial": 12,
    "modules": [
        {
            "path": [
                "root"
            ],
            "outputs": {
                "efs-mount-target-a": {
                    "sensitive": false,
                    "type": "string",
                    "value": "us-east-1e.fs-e76eacae.efs.us-east-1.amazonaws.com"
                },
                "server-b-ip": {
                    "sensitive": false,
                    "type": "string",
                    "value": "172.30.11.236"
                }
            },
            "resources": {
                "aws_efs_file_system.efs": {
                    "type": "aws_efs_file_system",
                    "primary": {
                        "id": "fs-e76eacae",
                        "attributes": {
                            "id": "fs-e76eacae",
                            "performance_mode": "generalPurpose",
                            "tags.%": "2",
                            "tags.Name": "efs-benchmark",
                            "tags.TFmanaged": "true"
                        }
                    }
                },
                "aws_efs_mount_target.efs_mount": {
                    "type": "aws_efs_mount_target",
                    "depends_on": [
                        "aws_efs_file_system.efs",
                        "aws_security_group.sg_nfs",
                        "aws_subnet.public_a"
                    ],
                    "primary": {
                        "id": "fsmt-36c4117f",
                        "attributes": {
                            "dns_name": "us-east-1e.fs-e76eacae.efs.us-east-1.amazonaws.com",
                            "file_system_id": "fs-e76eacae",
                            "id": "fsmt-36c4117f",
                            "ip_address": "172.30.10.126",
                            "network_interface_id": "eni-f160a6fe",
                            "security_groups.#": "1",
                            "security_groups.140373": "sg-c4d87bbe",
                            "subnet_id": "subnet-04899739"
                        }
                    }
                },
                "aws_instance.server_b": {
                    "type": "aws_instance",
                    "depends_on": [
                        "aws_security_group.gluster_server",
                        "aws_security_group.sg_nfs",
                        "aws_subnet.public_b"
                    ],
                    "primary": {
                        "id": "i-b7d5b74f",
                        "attributes": {
                            "ami": "ami-6869aa05",
                            "availability_zone": "us-east-1e",
                            "disable_api_termination": "false",
                            "ebs_block_device.#": "1",
                            "ebs_block_device.2659407853.delete_on_termination": "true",
                            "ebs_block_device.2659407853.device_name": "/dev/sdf",
                            "ebs_block_device.2659407853.encrypted": "false",
                            "ebs_block_device.2659407853.iops": "100",
                            "ebs_block_device.2659407853.snapshot_id": "",
                            "ebs_block_device.2659407853.volume_size": "10",
                            "ebs_block_device.2659407853.volume_type": "gp2",
                            "ebs_optimized": "true",
                            "ephemeral_block_device.#": "0",
                            "iam_instance_profile": "",
                            "id": "i-b7d5b74f",
                            "instance_state": "running",
                            "instance_type": "c4.large",
                            "key_name": "inge4pres",
                            "monitoring": "false",
                            "network_interface_id": "eni-7d67a172",
                            "private_dns": "ip-172-30-11-236.ec2.internal",
                            "private_ip": "172.30.11.236",
                            "public_dns": "ec2-52-3-240-207.compute-1.amazonaws.com",
                            "public_ip": "52.3.240.207",
                            "root_block_device.#": "1",
                            "root_block_device.0.delete_on_termination": "true",
                            "root_block_device.0.iops": "100",
                            "root_block_device.0.volume_size": "8",
                            "root_block_device.0.volume_type": "gp2",
                            "security_groups.#": "0",
                            "source_dest_check": "true",
                            "subnet_id": "subnet-05899738",
                            "tags.%": "3",
                            "tags.Name": "server_2",
                            "tags.Server_id": "2",
                            "tags.TFmanaged": "true",
                            "tenancy": "default",
                            "user_data": "43feeb6ab3b601ad0caaeb7f4459061b57ee26d9",
                            "vpc_security_group_ids.#": "2",
                            "vpc_security_group_ids.140373": "sg-c4d87bbe",
                            "vpc_security_group_ids.4189084906": "sg-bbd87bc1"
                        },
                        "meta": {
                            "schema_version": "1"
                        }
                    }
                },
                "aws_internet_gateway.igw": {
                    "type": "aws_internet_gateway",
                    "depends_on": [
                        "aws_vpc.app"
                    ],
                    "primary": {
                        "id": "igw-6953450d",
                        "attributes": {
                            "id": "igw-6953450d",
                            "tags.%": "2",
                            "tags.Name": "efs-benchmark_igw",
                            "tags.Scope": "public",
                            "vpc_id": "vpc-56470231"
                        }
                    }
                },
                "aws_route_table.rt_main": {
                    "type": "aws_route_table",
                    "depends_on": [
                        "aws_internet_gateway.igw",
                        "aws_vpc.app"
                    ],
                    "primary": {
                        "id": "rtb-390bd85f",
                        "attributes": {
                            "id": "rtb-390bd85f",
                            "propagating_vgws.#": "0",
                            "route.#": "1",
                            "route.1989586730.cidr_block": "0.0.0.0/0",
                            "route.1989586730.gateway_id": "igw-6953450d",
                            "route.1989586730.instance_id": "",
                            "route.1989586730.nat_gateway_id": "",
                            "route.1989586730.network_interface_id": "",
                            "route.1989586730.vpc_peering_connection_id": "",
                            "tags.%": "2",
                            "tags.Name": "route_main",
                            "tags.TF_managed": "true",
                            "vpc_id": "vpc-56470231"
                        }
                    }
                },
                "aws_route_table_association.assoc_main_a": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.rt_main",
                        "aws_subnet.public_a"
                    ],
                    "primary": {
                        "id": "rtbassoc-ed1ce294",
                        "attributes": {
                            "id": "rtbassoc-ed1ce294",
                            "route_table_id": "rtb-390bd85f",
                            "subnet_id": "subnet-04899739"
                        }
                    }
                },
                "aws_route_table_association.assoc_main_b": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.rt_main",
                        "aws_subnet.public_b"
                    ],
                    "primary": {
                        "id": "rtbassoc-ec1ce295",
                        "attributes": {
                            "id": "rtbassoc-ec1ce295",
                            "route_table_id": "rtb-390bd85f",
                            "subnet_id": "subnet-05899738"
                        }
                    }
                },
                "aws_security_group.client": {
                    "type": "aws_security_group",
                    "depends_on": [
                        "aws_vpc.app"
                    ],
                    "primary": {
                        "id": "sg-bad87bc0",
                        "attributes": {
                            "description": "Client access",
                            "egress.#": "1",
                            "egress.482069346.cidr_blocks.#": "1",
                            "egress.482069346.cidr_blocks.0": "0.0.0.0/0",
                            "egress.482069346.from_port": "0",
                            "egress.482069346.prefix_list_ids.#": "0",
                            "egress.482069346.protocol": "-1",
                            "egress.482069346.security_groups.#": "0",
                            "egress.482069346.self": "false",
                            "egress.482069346.to_port": "0",
                            "id": "sg-bad87bc0",
                            "ingress.#": "1",
                            "ingress.2541437006.cidr_blocks.#": "1",
                            "ingress.2541437006.cidr_blocks.0": "0.0.0.0/0",
                            "ingress.2541437006.from_port": "22",
                            "ingress.2541437006.protocol": "tcp",
                            "ingress.2541437006.security_groups.#": "0",
                            "ingress.2541437006.self": "false",
                            "ingress.2541437006.to_port": "22",
                            "name": "client",
                            "owner_id": "295665577671",
                            "tags.%": "3",
                            "tags.Name": "sg_glusterfs",
                            "tags.Role": "efs-test",
                            "tags.TF_managed": "true",
                            "vpc_id": "vpc-56470231"
                        }
                    }
                },
                "aws_security_group.gluster_server": {
                    "type": "aws_security_group",
                    "depends_on": [
                        "aws_vpc.app"
                    ],
                    "primary": {
                        "id": "sg-bbd87bc1",
                        "attributes": {
                            "description": "Gluster FS access",
                            "egress.#": "1",
                            "egress.482069346.cidr_blocks.#": "1",
                            "egress.482069346.cidr_blocks.0": "0.0.0.0/0",
                            "egress.482069346.from_port": "0",
                            "egress.482069346.prefix_list_ids.#": "0",
                            "egress.482069346.protocol": "-1",
                            "egress.482069346.security_groups.#": "0",
                            "egress.482069346.self": "false",
                            "egress.482069346.to_port": "0",
                            "id": "sg-bbd87bc1",
                            "ingress.#": "6",
                            "ingress.219555866.cidr_blocks.#": "1",
                            "ingress.219555866.cidr_blocks.0": "172.30.0.0/16",
                            "ingress.219555866.from_port": "22",
                            "ingress.219555866.protocol": "tcp",
                            "ingress.219555866.security_groups.#": "0",
                            "ingress.219555866.self": "false",
                            "ingress.219555866.to_port": "22",
                            "ingress.2571365074.cidr_blocks.#": "1",
                            "ingress.2571365074.cidr_blocks.0": "172.30.0.0/16",
                            "ingress.2571365074.from_port": "49152",
                            "ingress.2571365074.protocol": "tcp",
                            "ingress.2571365074.security_groups.#": "0",
                            "ingress.2571365074.self": "false",
                            "ingress.2571365074.to_port": "49153",
                            "ingress.360458767.cidr_blocks.#": "1",
                            "ingress.360458767.cidr_blocks.0": "172.30.0.0/16",
                            "ingress.360458767.from_port": "24007",
                            "ingress.360458767.protocol": "tcp",
                            "ingress.360458767.security_groups.#": "0",
                            "ingress.360458767.self": "false",
                            "ingress.360458767.to_port": "24010",
                            "ingress.388213365.cidr_blocks.#": "1",
                            "ingress.388213365.cidr_blocks.0": "172.30.0.0/16",
                            "ingress.388213365.from_port": "38465",
                            "ingress.388213365.protocol": "tcp",
                            "ingress.388213365.security_groups.#": "0",
                            "ingress.388213365.self": "false",
                            "ingress.388213365.to_port": "38467",
                            "ingress.3926648134.cidr_blocks.#": "1",
                            "ingress.3926648134.cidr_blocks.0": "172.30.0.0/16",
                            "ingress.3926648134.from_port": "111",
                            "ingress.3926648134.protocol": "tcp",
                            "ingress.3926648134.security_groups.#": "0",
                            "ingress.3926648134.self": "false",
                            "ingress.3926648134.to_port": "111",
                            "ingress.496441551.cidr_blocks.#": "1",
                            "ingress.496441551.cidr_blocks.0": "172.30.0.0/16",
                            "ingress.496441551.from_port": "111",
                            "ingress.496441551.protocol": "udp",
                            "ingress.496441551.security_groups.#": "0",
                            "ingress.496441551.self": "false",
                            "ingress.496441551.to_port": "111",
                            "name": "glusterfs",
                            "owner_id": "295665577671",
                            "tags.%": "3",
                            "tags.Name": "sg_glusterfs",
                            "tags.Role": "efs-test",
                            "tags.TF_managed": "true",
                            "vpc_id": "vpc-56470231"
                        }
                    }
                },
                "aws_security_group.sg_nfs": {
                    "type": "aws_security_group",
                    "depends_on": [
                        "aws_vpc.app"
                    ],
                    "primary": {
                        "id": "sg-c4d87bbe",
                        "attributes": {
                            "description": "EFS access",
                            "egress.#": "1",
                            "egress.482069346.cidr_blocks.#": "1",
                            "egress.482069346.cidr_blocks.0": "0.0.0.0/0",
                            "egress.482069346.from_port": "0",
                            "egress.482069346.prefix_list_ids.#": "0",
                            "egress.482069346.protocol": "-1",
                            "egress.482069346.security_groups.#": "0",
                            "egress.482069346.self": "false",
                            "egress.482069346.to_port": "0",
                            "id": "sg-c4d87bbe",
                            "ingress.#": "1",
                            "ingress.3956752459.cidr_blocks.#": "1",
                            "ingress.3956752459.cidr_blocks.0": "172.30.0.0/16",
                            "ingress.3956752459.from_port": "2049",
                            "ingress.3956752459.protocol": "tcp",
                            "ingress.3956752459.security_groups.#": "0",
                            "ingress.3956752459.self": "false",
                            "ingress.3956752459.to_port": "2049",
                            "name": "sg_efs",
                            "owner_id": "295665577671",
                            "tags.%": "3",
                            "tags.Name": "sg_efs",
                            "tags.Role": "efs-test",
                            "tags.TF_managed": "true",
                            "vpc_id": "vpc-56470231"
                        }
                    }
                },
                "aws_subnet.public_a": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.app"
                    ],
                    "primary": {
                        "id": "subnet-04899739",
                        "attributes": {
                            "availability_zone": "us-east-1e",
                            "cidr_block": "172.30.10.0/24",
                            "id": "subnet-04899739",
                            "map_public_ip_on_launch": "true",
                            "tags.%": "3",
                            "tags.Name": "subnet_public_a",
                            "tags.Scope": "public",
                            "tags.TF_managed": "true",
                            "vpc_id": "vpc-56470231"
                        }
                    }
                },
                "aws_subnet.public_b": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.app"
                    ],
                    "primary": {
                        "id": "subnet-05899738",
                        "attributes": {
                            "availability_zone": "us-east-1e",
                            "cidr_block": "172.30.11.0/24",
                            "id": "subnet-05899738",
                            "map_public_ip_on_launch": "true",
                            "tags.%": "3",
                            "tags.Name": "subnet_public_b",
                            "tags.Scope": "public",
                            "tags.TF_managed": "true",
                            "vpc_id": "vpc-56470231"
                        }
                    }
                },
                "aws_vpc.app": {
                    "type": "aws_vpc",
                    "primary": {
                        "id": "vpc-56470231",
                        "attributes": {
                            "cidr_block": "172.30.0.0/16",
                            "default_network_acl_id": "acl-e6bf8b81",
                            "default_security_group_id": "sg-edd87b97",
                            "dhcp_options_id": "dopt-da7fa2bf",
                            "enable_classiclink": "false",
                            "enable_dns_hostnames": "true",
                            "enable_dns_support": "true",
                            "id": "vpc-56470231",
                            "instance_tenancy": "default",
                            "main_route_table_id": "rtb-590bd83f",
                            "tags.%": "1",
                            "tags.Name": "efs-benchmark"
                        }
                    }
                }
            }
        }
    ]
}
